## 그래픽스 표준

</br>
</br>

### 4.1.1 국제 표준

</br>
표준화는 주어진 여건에서 최적의 질서를 유지하기 위해, 현존하거나 잠재하는 문제들에 대해, 공유성과 재활용성을 높이기 위해 규정을 제정하는 행위다.

표준화는 여러 사람이 같이 사용하거나, 이미 만들어진 것을 재활용하기 위한 편의성을 추구한다.

</br>

ISO 표준에 의하면 **컴퓨터 그래픽스**는 **컴퓨터 하드웨어와 소프트웨어를 사용하여 물체와 물체영상을 생성, 변형, 디스플레이, 저장하는 것**으로 정의된다.

이 분야의 표준화에서는 **프로그램의 이식성을 높임**으로써 **사용자 편의를 도모**한다. 그래픽스 분야 표준은 다음 개념을 염두에 둔다.

1. 주 전산기 독립성
    + 동일한 프로그램으로 다양한 하드웨어에서 사용할 수 있어야 한다.

2. 장비 독립성
    + I/O 장비의 종류가 달라도 동일 기능을 수행하기 위한 프로그램 명령은 동일해야 한다.

3. 프로그램 언어 독립성
    + 프로그램을 작성할 때 어떠한 프로그램 언어를 사용해도 된다.

4. 운영자 이식성
    + 새로운 프로그램 사용법을 누구든지 쉽게 배울 수 있어야 한다.

</br>
</br>

### 4.1.2 기본 요소와 시스템 리스트

</br>

ISO 그래픽 표준에는 그림을 구성하는 기본 요소들에 용어가 정의되어 있다.

출력 **기본 요소**에는 **점**, **선**, **채움 영역**, **꺾은 선**, **표시 꺾은선**, **문자** 등이 있다.

</br>

**기본 요소 외양**은 이들 **요소들이 순간 어떤 모습을 띠고 화면에 표시되는지**를 의미한다.

예를 들어, 선이라는 기본 요소는 패턴, 색상, 두께 등을 달리 할 수 있다.

선의 두께를 키우면 Round Cap, Butt Cap, Projecting Cap, Soft Cap 등 선 끝을 처리하는 모습이 달라진다.

</br>

</br>

또한, 2개의 선을 이었을 때 연결부를 어떤 모습으로 처리하는지도 관건이다.

연결부를 둥글게 처리하는 Round Join, 잘라내서 처리하는 Bevel Join, 뾰족하게 처리하는 Miter Join이 있다.

</br>

</br>

다각형 기본 요소도 여러 가지 외양을 띤다.

다각형을 어떤 색상으로 채워넣는 Filled Polygon, Gradation도 가능하다. 사선 패턴으로 채울 수도 있고, 윤곽선을 제거할 수도 있다.

</br>

문자 기본 요소는 폰트, 색상, 크기가 외양이 된다. 

이처럼 **기본 요소가 지니고 있는 현재의 외양 값**을 **기본 요소 속성**이라고 한다. **하나의 기본 요소에는 여러 속성이 존재**한다.

</br>
</br>

### 4.1.3 GKS, PHIGS

</br>

그래픽스 표준은 표준이 언급하는 내용에 따라 **4가지로 분류**되며, 이는 **계층 구조**로 이루어져 있다.

1. Application Level
    + 응용프로그램이 지켜야 할 표준을 추상적인 수준에서 서술한다.

2. Virtual Level
    + 출력되어야 할 내용을 기본 요소를 사용하여 서술한다.

3. Logical Level
    + 주어진 장비에서 해당 기본 요소를 그리기 위해 필요한 과정을 서술한다.

4. Physical Level
    + 개별 I/O 장비에 관한 내용을 서술한다.

</br>

ISO 그래픽 표준에는 두 가지 흐름이 있다. GKS와 PHIGS이다.

**GKS**는 가장 먼저 정착된 그래픽스 표준으로 **2D** 위주로 이루어졌다. 이는 유럽 국가들에 의해 주도되었다.

**PHIGS**는 **3D 모델링**, 가시화 등에 주안점을 두었다. 이는 **CAD**에 주안점을 둔 미국 주도의 표준이다.

</br>

기본 요소 및 외양, 속성에 대해서는 두 표준의 정의가 비슷하다.

좌표계에 있어서도 두 표준 모두 WCS(전역 좌표계), NDC(정규화 장치 좌표계), DCS(장치 좌표계) 등의 요소를 정의하고 있다.

특히, **PHIGS는 시점 및 가시 부피를 표준 내용에 포함**하고 있다. 이는 **3D 그래픽 처리에 필요**한 개념으로 **GKS에는 존재하지 않는다**.

</br>

그래픽 파일은 여러 가지 방법으로 저장된다. **Bitmap** 파일은 가장 저급한 수준으로, 단순히 **화면 화소값을 저장**한다.

**GKS**는 그림을 저장할 때 **기본 요소의 위치, 속성, 가시성, 변환 등의 정보까지 저장**한다.

특히, **GKS Metafile**은 그림을 저장하는 대신 **그림을 만들어 낼 때 사용하는 순차적 명령어들을 저장**하기도 한다.

</br>

**PHIGS**는 GKS에서 저장하는 정보를 포함하여 **Application Level에서 기본 요소 사이의 관계까지 저장**한다.

예를 들어, CSG에 의해 모델링된 물체라면, 그 물체를 구성하기 위해 Boolean 연산 내용도 저장한다.

이러한 점에서 **PHIGS가 더욱 상위 레벨이 Metafile을 사용**한다고 볼 수 있다.

</br>

PHIGS는 개별 물체보다 **물체의 집합을 다룬다**. 

상관 관계를 포함한 이 집합을 **구조체**라고 하며, **개별 물체는 구조체를 구성하는 하나의 요소**로 취급한다.

화면에 **그림을 뿌리기 위해서는 구조체를 관통(Traversal; 순회)해야 한다**. 

PHIGS는 계층 구조화된 구조체의 최상위 객체로부터 시작하여 **계층구조의 위에서 아래로 관통하면서 해당 물체를 그려낸다**.

</br>
</br>

### 4.1.4 언어 바인딩

</br>

언어 바인딩은 그래픽 소프트웨어 개발자를 위한 것이다.

개발자는 개발에 사용된 **언어가 지원하는 기능들을 모두 이용**하여 코딩할 수 있지만, 이 경우 **표준화 측면에서 호환성, 이식성을 저해**한다.

따라서 그래픽 표준에서는 **그래픽 명령어의 표준을 정하되, 함수명과 데이터형 등을 추상적인 수준에서만 정의**한다.

컴파일러 개발자는 이러한 **정의를 준수하는 범위 내에서 명령어나 문법을 자유롭게 설계** 가능하다.

</br>

꺾은선을 예로 들면, 언어 바인딩의 표준 내용은 다음과 같다.

</br>

```
POLYLINE
Parameters
    In number of points     (2, ..., n)             n: 점의 개수(정수)
    In points WC             n × P                  P: 점의 전역 좌표값 (WC: 전역 좌표값)
```
</br>

이 표준안을 수용하는 Fortran77 명령어를 예로 들면 다음과 같다.

</br>

```
SUBROUTINE GPL(N, PXA, PYA)
```
</br>

이 명령어에서 N은 정수형으로, 점의 수를 나타낸다. 

PXA는 N개의 점의 x 좌표만 나열한 배열이며, PYA는 y 좌표만 나열한 배열이다.

즉, **함수명이나 구체적인 문법은 컴파일러가 자유롭게 선택하되, 파라미터는 표준안을 수용**하고 있음을 알 수 있다.